<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>WellnessApp</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="gradient"></div>
  <div class="app">
    <section id="view-login" class="view view--active">
      <div class="auth-card">
        <div class="auth-avatar">
          <span class="icon">üë§</span>
        </div>
        <h1>Bienvenido de vuelta</h1>
        <p class="auth-subtitle">Inicia sesi√≥n para continuar con tu bienestar</p>
        <form id="loginForm" class="auth-form">
          <label class="field">
            <span>Correo electr√≥nico</span>
            <input type="email" id="loginEmail" placeholder="t√∫@correo.com" required>
          </label>
          <label class="field">
            <span>Contrase√±a</span>
            <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          </label>
          <button type="submit" class="btn btn--primary">Iniciar sesi√≥n</button>
          <p id="loginStatus" class="status"></p>
        </form>
        <p class="auth-switch">¬øNo tienes una cuenta? <button type="button" class="link" data-switch="register">Reg√≠strate aqu√≠</button></p>
      </div>
    </section>

    <section id="view-register" class="view">
      <div class="auth-card">
        <div class="auth-avatar">
          <span class="icon">üÜï</span>
        </div>
        <h1>Crear cuenta</h1>
        <p class="auth-subtitle">√önete para comenzar a monitorear tu bienestar</p>
        <form id="registerForm" class="auth-form">
          <label class="field">
            <span>Nombre completo</span>
            <input type="text" id="registerName" placeholder="Tu nombre">
          </label>
          <label class="field">
            <span>Correo electr√≥nico</span>
            <input type="email" id="registerEmail" placeholder="t√∫@correo.com" required>
          </label>
          <label class="field">
            <span>Edad</span>
            <input type="number" id="registerAge" placeholder="18" min="15" max="100">
          </label>
          <label class="field">
            <span>Nivel educativo</span>
            <select id="registerEducation">
              <option value="">Selecciona nivel</option>
              <option>Secundaria</option>
              <option>Bachillerato</option>
              <option>Universidad</option>
              <option>Postgrado</option>
            </select>
          </label>
          <label class="field">
            <span>Contrase√±a</span>
            <input type="password" id="registerPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          </label>
          <label class="field">
            <span>Confirmar contrase√±a</span>
            <input type="password" id="registerConfirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
          </label>
          <button type="submit" class="btn btn--primary">Crear cuenta</button>
          <p id="registerStatus" class="status"></p>
        </form>
        <p class="auth-switch">¬øYa tienes una cuenta? <button type="button" class="link" data-switch="login">Inicia sesi√≥n aqu√≠</button></p>
      </div>
    </section>

    <section id="view-dashboard" class="view">
      <header class="topbar">
        <div>
          <h2 id="dashboardGreeting">Hola</h2>
          <p class="topbar-date" id="dashboardDate"></p>
        </div>
        <button class="btn btn--ghost" id="btnLogout">Cerrar sesi√≥n</button>
      </header>

      <section class="hero-card">
        <div>
          <p class="hero-subtitle">Tu bienestar es importante</p>
          <h3>Check-in de Bienestar</h3>
          <p class="hero-description">Toma 2 minutos para cuidar tu salud mental y emocional.</p>
          <button class="btn btn--primary" id="btnStartGad7">Empezar ahora</button>
          <span class="hero-points">+10 puntos al completar</span>
        </div>
        <div class="hero-illustration" aria-hidden="true">üí´</div>
      </section>

      <section class="quick-links">
        <article class="quick-card">
          <div class="quick-icon">‚òÅÔ∏è</div>
          <div>
            <h4>Comunidad</h4>
            <p>Conecta con otros estudiantes y comparte estrategias.</p>
          </div>
        </article>
        <article class="quick-card quick-card--action">
          <div class="quick-icon">ü©∫</div>
          <div>
            <h4>Evaluaciones cl√≠nicas</h4>
            <p>Explora las evaluaciones PHQ-9 y GAD-7 para monitorear tu progreso.</p>
          </div>
          <button class="btn btn--light" id="btnStartPhq9">Iniciar PHQ-9</button>
        </article>
        <article class="quick-card">
          <div class="quick-icon">üß∞</div>
          <div>
            <h4>Recursos</h4>
            <p>Tips y herramientas √∫tiles seleccionadas por especialistas.</p>
          </div>
        </article>
        <article class="quick-card quick-card--action">
          <div class="quick-icon">üìö</div>
          <div>
            <h4>Historial de evaluaciones</h4>
            <p>Consulta tus resultados previos y notas personales.</p>
          </div>
          <button class="btn btn--light" id="btnOpenHistory">Ver historial</button>
        </article>
      </section>

      <section id="statsSection" class="insights">
        <div class="insights-header">
          <h3>Estad√≠sticas de tus evaluaciones</h3>
          <p>Consulta tu progreso y las tendencias recientes de tus resultados.</p>
        </div>
        <div id="statsEmpty" class="stats-empty">A√∫n no hay suficientes evaluaciones para mostrar estad√≠sticas.</div>
        <div class="insights-grid">
          <article class="stats-card">
            <h4>Total de evaluaciones</h4>
            <p id="statsTotalEvaluations" class="stats-value">0</p>
            <span class="stats-label">Se cuentan todas las evaluaciones guardadas.</span>
          </article>
          <article class="stats-card">
            <h4>Promedio GAD-7</h4>
            <p id="statsAverageGad7" class="stats-value">‚Äì</p>
            <span class="stats-label">Suma de puntajes √∑ n√∫mero de pruebas GAD-7.</span>
          </article>
          <article class="stats-card">
            <h4>Promedio PHQ-9</h4>
            <p id="statsAveragePhq9" class="stats-value">‚Äì</p>
            <span class="stats-label">Suma de puntajes √∑ n√∫mero de pruebas PHQ-9.</span>
          </article>
        </div>
        <div class="latest-grid">
          <article class="latest-card">
            <h4>√öltimo resultado GAD-7</h4>
            <p id="statsLastGad7" class="latest-value">A√∫n no has completado un GAD-7.</p>
          </article>
          <article class="latest-card">
            <h4>√öltimo resultado PHQ-9</h4>
            <p id="statsLastPhq9" class="latest-value">A√∫n no has completado un PHQ-9.</p>
          </article>
        </div>
        <div class="charts-grid">
          <article class="chart-card">
            <header>
              <h4>Evoluci√≥n de puntajes</h4>
              <span>√öltimas evaluaciones</span>
            </header>
            <canvas id="statsTrend" aria-label="Gr√°fico de l√≠nea con la evoluci√≥n de puntajes" role="img"></canvas>
            <p class="chart-empty" data-chart-empty="trend">Completa algunas evaluaciones para ver la evoluci√≥n de tus resultados.</p>
          </article>
          <article class="chart-card">
            <header>
              <h4>Distribuci√≥n por categor√≠a</h4>
              <span>Conteo de evaluaciones por nivel</span>
            </header>
            <canvas id="statsSeverity" aria-label="Gr√°fico de barras con la distribuci√≥n por categor√≠a" role="img"></canvas>
            <p class="chart-empty" data-chart-empty="severity">Cuando tengas evaluaciones guardadas ver√°s aqu√≠ la distribuci√≥n por niveles.</p>
          </article>
        </div>
      </section>

      <section id="historyPanel" class="history hidden">
        <div class="history-header">
          <h3>Tu historial reciente</h3>
          <button class="link" id="btnCloseHistory">Ocultar</button>
        </div>
        <ul id="historyList" class="history-list"></ul>
      </section>
    </section>

    <section id="view-assessment" class="view">
      <header class="assessment-header">
        <button class="back" id="btnBackToDashboard" aria-label="Volver">
          ‚Üê
        </button>
        <div>
          <p class="assessment-title" id="assessmentTitle">Check-in de Bienestar</p>
          <p class="assessment-step" id="assessmentStep"></p>
        </div>
        <div class="progress">
          <div class="progress-bar" id="assessmentProgress"></div>
        </div>
      </header>
      <section class="question-card" id="questionCard"></section>
      <footer class="assessment-footer">
        <button class="btn btn--ghost" id="btnPrevQuestion">Anterior</button>
        <div class="assessment-points">+10 puntos al completar ¬∑ +5 extra si terminas en menos de 2 min</div>
        <button class="btn btn--primary" id="btnNextQuestion">Siguiente</button>
      </footer>
    </section>

    <section id="view-result" class="view">
      <div class="result-card">
        <div class="result-icon">‚ú®</div>
        <h2 id="resultTitle">¬°Bien hecho!</h2>
        <p id="resultSummary" class="result-summary"></p>
        <ul id="resultDetails" class="result-details"></ul>
        <div class="result-actions">
          <button class="btn btn--primary" id="btnResultDashboard">Volver al inicio</button>
          <button class="btn btn--light" id="btnResultHistory">Ver historial</button>
        </div>
      </div>
    </section>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" integrity="sha384-vlY97Ts7uaEUfZOwmC1TpM1ddBUIZh9rqx8pNzBYU2yk6dHQXxNE5eUl2ViBZAxP" crossorigin="anonymous"></script>
  <script src="js/app.js?v=2"></script>
</body>
</html>
